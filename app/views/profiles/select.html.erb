<div class="profile-selection">
  <h1>Escolha seu perfil</h1>
  <div class="profiles">
    <% if enterprises.size.positive? %>
      <% enterprises.uniq.each do |enterprise| %>
        <%=
          link_to(
            update_current_enterprise_admin_user_path(current_user, change_enterprise: { id: enterprise.id }),
            data: { turbo_method: :patch }
          ) do
        %>
          <div class="profile">
            <%= I18n.t(current_user.roles.where(enterprise: enterprise).map(&:kind), scope: 'activerecord.attributes.user/role.kinds').join(' / ') %>
            <div class="mt-5">
              <%= enterprise.trade_name %>
            </div>
            <div>
              <%= CNPJ.new(enterprise.document_number).formatted %>
            </div>
          </div>
        <% end %>
      <% end %>
    <% else %>
      <div class="text-center">
        Você não possui empresa vinculada.
      </div>
    <% end %>
  </div>
</div>

<style>
.profile-selection {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.profiles {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  margin-top: 40px;
}

.profile {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  background-color: #fff;
  border: 1px solid #ccc;
  border-radius: 5px;
  padding: 20px;
  width: 220px;
  height: 250px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  text-decoration: none;
  color: #333;
  transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  margin: 10px;
}

.profile:hover {
  transform: translateY(-5px);
  box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2);
}

.profile img {
  width: 150px;
  height: 150px;
  object-fit: cover;
  border-radius: 50%;
  margin-bottom: 20px;
}

.profile h2 {
  font-size: 24px;
  margin: 0;
}
</style>
